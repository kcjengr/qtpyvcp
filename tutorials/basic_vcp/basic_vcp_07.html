

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MDI &mdash; QtPyVCP 5.1.0</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=682924ec"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Offsets" href="basic_vcp_08.html" />
    <link rel="prev" title="File Navigator" href="basic_vcp_06.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            QtPyVCP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/index.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Basic VCP</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_01.html">Clone and Prepare</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_02.html">Setup the Layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_03.html">Machine Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_04.html">Jog and DRO</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_05.html">Back Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_06.html">File Navigator</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MDI</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_vcp_08.html">Offsets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../components/dialogs.html">Dialogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/dro_tutorial.html">DRO Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/machine_buttons.html">Machine Buttons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/mdi.html">MDI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/touch_screen.html">Touch Screens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/overrides.html">Overrides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../components/button_groups.html">Button Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vcp_template.html">VCP Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_vcp.html">Making your first VCP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../widget_rules.html">Widget Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../showcase/index.html">VCP Showcase</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Designer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../designer/widgets/index.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../designer/plugins/index.html">Plugins</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../actions/index.html">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../widgets/index.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hal.html">HAL Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hal.html#qtpyvcp.hal.component"><code class="docutils literal notranslate"><span class="pre">component()</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hal.html#qtpyvcp.hal.getComponent"><code class="docutils literal notranslate"><span class="pre">getComponent()</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developers Corner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/contribution_guide.html">Contribution Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/dev_environment.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Command-line Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Update Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../update_notes_stable.html">Stable Update Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../update_notes_develop.html">Develop Update Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Acknowledgements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../acknowledgements.html">Acknowledgements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/kcjengr/qtpyvcp">QtPyVCP GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/linuxcnc/linuxcnc">LinuxCNC Github</a></li>
<li class="toctree-l1"><a class="reference external" href="https://forum.linuxcnc.org/qtpyvcp">LinuxCNC Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QtPyVCP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Tutorials</a></li>
          <li class="breadcrumb-item"><a href="index.html">Basic VCP</a></li>
      <li class="breadcrumb-item active">MDI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tutorials/basic_vcp/basic_vcp_07.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mdi">
<h1>MDI<a class="headerlink" href="#mdi" title="Link to this heading"></a></h1>
<p><strong>Manual Data Input</strong></p>
<p>Start by adding a tab to the left tab widget. Right click on the <cite>File</cite> tab and
select <cite>Insert Page</cite> then <cite>After Current Page</cite> and name that tab MDI. Drag a
grid into the tab and change the tab layout to grid and morph the grid into a
QFrame as before.</p>
<a class="reference internal image-reference" href="../../_images/vcp1-designer-23.png"><img alt="../../_images/vcp1-designer-23.png" class="align-center" height="298" src="../../_images/vcp1-designer-23.png" width="580" />
</a>
<p>Add a <cite>MDIEntry</cite> to the frame and and change the <cite>objectName</cite> to <code class="docutils literal notranslate"><span class="pre">mdiEntry</span></code>
and change the font to 12 from the <cite>Property Editor</cite>. Now add some
<cite>Push Buttons</cite> below that. Add 6 rows of buttons with 5 buttons in each row.
Press the <cite>Ctrl</cite> key and click on each button to select them all. Right click on
any button and select <cite>Assign to button group</cite> and click on <cite>New Button Group</cite>.</p>
<a class="reference internal image-reference" href="../../_images/vcp1-designer-24.png"><img alt="../../_images/vcp1-designer-24.png" class="align-center" height="298" src="../../_images/vcp1-designer-24.png" width="580" />
</a>
<p>In the <cite>Object Inspector</cite> scroll down to the bottom and find the <cite>buttonGroup</cite>
object we just created and change the <cite>objectName</cite> to <code class="docutils literal notranslate"><span class="pre">mdiButtonGroup</span></code>. Now we
have a group of buttons that all belong to the same group. Now lets change the
text of the buttons like the following and change the <cite>objectName</cite> for the Enter
button to <code class="docutils literal notranslate"><span class="pre">mdiEnterButton</span></code> and the <cite>objectName</cite> for the Clear button to
<code class="docutils literal notranslate"><span class="pre">mdiClearButton</span></code>. Right click on the Clear and Enter buttons and select
<cite>Assign to button group</cite> <cite>None</cite> to remove them from the group.</p>
<a class="reference internal image-reference" href="../../_images/vcp1-designer-25.png"><img alt="../../_images/vcp1-designer-25.png" class="align-center" height="298" src="../../_images/vcp1-designer-25.png" width="580" />
</a>
<p>Now lets work some magic, open up <cite>~/vcp1/vcp1/mainwindow.py</cite> and add the
following Python code after <cite># add any custom methods here</cite> and pay attention to
the indentation level. The example uses 4 spaces per level. Don’t forget to add
the line after <cite>super(MyMainWindow, self).__init__(*args, **kwargs)</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">qtpyvcp.widgets.form_widgets.main_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">VCPMainWindow</span>

<span class="c1"># Setup logging</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qtpyvcp.utilities</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>
<span class="n">LOG</span> <span class="o">=</span> <span class="n">logger</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;qtpyvcp.&#39;</span> <span class="o">+</span> <span class="vm">__name__</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyMainWindow</span><span class="p">(</span><span class="n">VCPMainWindow</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main window class for the VCP.&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyMainWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mdiButtonGroup</span><span class="o">.</span><span class="n">buttonClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mdiHandleKeys</span><span class="p">)</span>

    <span class="c1"># add any custom methods here</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mdiHandleKeys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">button</span><span class="p">):</span>
        <span class="n">char</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">button</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mdiEntry</span><span class="o">.</span><span class="n">text</span><span class="p">()</span> <span class="ow">or</span> <span class="s1">&#39;0&#39;</span>
        <span class="k">if</span> <span class="n">text</span> <span class="o">!=</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">+=</span> <span class="n">char</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">char</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mdiEntry</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>What we are doing in the Python code is connecting all the buttons in the
<cite>mdiButtonGroup</cite> to the function <cite>mdiHandleKeys</cite>. When a button is clicked it is
passed to the function as <cite>button</cite>. So we take the button.text() and make sure
it’s a string then assign it to the char variable. Next if the mdiEntry has any
text in it we assign that to the text variable, if not then we assign it the
character 0. Next we either append char to text or assign char to text. Last we
set the new text to the mdiEntry.</p>
<p>The reason the Enter and Clear buttons are not part of the group is we will
connect those two buttons clicked signal to the mdiEntry. These are the signals
for the clear and enter buttons.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sender</span>             <span class="n">action</span>       <span class="n">receiver</span>     <span class="n">slot</span>
<span class="n">mdiEnterButton</span>    <span class="n">clicked</span><span class="p">()</span>     <span class="n">mdiEnter</span>     <span class="n">submit</span><span class="p">()</span>
<span class="n">mdiClearButton</span>    <span class="n">clicked</span><span class="p">()</span>     <span class="n">mdiEnter</span>     <span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<p>Now when we run the VCP we can enter and execute MDI commands from the touch
screen</p>
<a class="reference internal image-reference" href="../../_images/vcp1-run-11.png"><img alt="../../_images/vcp1-run-11.png" class="align-center" height="380" src="../../_images/vcp1-run-11.png" width="487" />
</a>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="basic_vcp_08.html" class="btn btn-neutral float-right" title="Offsets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basic_vcp_06.html" class="btn btn-neutral float-left" title="File Navigator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2023, Kurt Jacobson.
    <br>

    </p>
  </div>

  <!---->
  <!--Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.-->
  <!----> 

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>